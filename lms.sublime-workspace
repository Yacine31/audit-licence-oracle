{
	"auto_complete":
	{
		"selected_items":
		[
			[
				"data",
				"data_mining"
			],
			[
				"DIA",
				"DIAG_PACK_FEATURES"
			],
			[
				"Pa",
				"Pack"
			],
			[
				"D",
				"Diagnostics"
			],
			[
				"PRO",
				"PROJECT_NAME"
			],
			[
				"SELE",
				"SELECT"
			],
			[
				"E",
				"Edition"
			],
			[
				"Sp",
				"SPATIAL"
			],
			[
				"aw_n",
				"AW_NAME"
			],
			[
				"hos",
				"host_name"
			],
			[
				"SELEC",
				"SELECT_NON_AIX"
			],
			[
				"CPU",
				"CPU_Oracle"
			],
			[
				"Phys",
				"physical_server"
			],
			[
				"inst",
				"instance_name"
			],
			[
				"nb_",
				"nb_threads"
			],
			[
				"nb",
				"nb_serveurs_win"
			],
			[
				"nb_s",
				"nb_serveurs_linux"
			],
			[
				"nb_ser",
				"nb_serveurs_linux"
			],
			[
				"fn",
				"fnAddPrimaryKey"
			],
			[
				"cas",
				"case	case … esac"
			],
			[
				"el",
				"else"
			],
			[
				"v_",
				"v_VMWARE"
			],
			[
				"tunin",
				"Tuning_Pack_Used"
			],
			[
				"SQL",
				"SQL_NOT_IN"
			],
			[
				"H",
				"Host_Name"
			],
			[
				"ho",
				"Host_Name"
			],
			[
				"dba_feature",
				"dba_feature"
			],
			[
				"partio",
				"partitioning"
			],
			[
				"segments",
				"dba_segments"
			],
			[
				"partiti",
				"partitioning"
			],
			[
				"print",
				"print_header"
			],
			[
				"Proc",
				"Processor"
			],
			[
				"prin",
				"print_data"
			],
			[
				"Work",
				"workspaces"
			],
			[
				"Anal",
				"analytic"
			],
			[
				"DB",
				"DB_VERSION_MAJ"
			],
			[
				"DB_",
				"DB_CREATED_DATE"
			],
			[
				"INS",
				"INSTANCE_NAME"
			],
			[
				"OU",
				"OUTPUT_FILE"
			]
		]
	},
	"buffers":
	[
		{
			"file": "reports_data_mining.sh",
			"settings":
			{
				"buffer_size": 4395,
				"line_ending": "Unix"
			}
		},
		{
			"file": "fonctions.sh",
			"settings":
			{
				"buffer_size": 4360,
				"line_ending": "Unix"
			}
		},
		{
			"file": "reports_adv_compression.sh",
			"settings":
			{
				"buffer_size": 5425,
				"line_ending": "Unix"
			}
		},
		{
			"file": "reports2xml.sh",
			"settings":
			{
				"buffer_size": 15901,
				"line_ending": "Unix"
			}
		},
		{
			"contents": "#!/bin/bash\n:<<HISTORIQUE\n23/05/2014 - première version\nHISTORIQUE\n\n:<<USAGE\nLe script est appelé une fois pour créer les différentes tables dans la BDD\nUSAGE\n\n# Inclusion des fonctions\nREP_COURANT=\"/home/merlin/lms_scripts\"\n. ${REP_COURANT}/fonctions.sh\n\n\n# si aucun paramètre en entrée on quitte\n[ \"$1\" = \"\" ] && echo \"Syntax: $0 PROJECT_NAME\" && exit 1\n\n# variables globales\nDELIM=\",\"\n\nfunction fnCreateTable {\n	# creation d'une table vide à partir des entetes du fichier CSV passé en paramètre\n	TABLE=$1\n	HEADER=$2\n\n	# à partir de la variable HEADER on créé la table \n	FIELDS=$(echo $HEADER | sed -e 's/'$DELIM'/` varchar(255),\\n`/g' -e 's/\\r//g')\n	FIELDS='`'\"$FIELDS\"'` varchar(255)'\n	echo -n \"Création de la table $TABLE .... \"\n	mysql -u${MYSQL_USER} -p${MYSQL_PWD} --local-infile --database=${MYSQL_DB} -e \"\n	DROP TABLE IF EXISTS $TABLE;\n	CREATE TABLE $TABLE ($FIELDS);\"\n	echo \" terminée\"\n}\n\nfunction fnAddPrimaryKey {\n	# ajout d'une clé primaire sur une table\n	TABLE=$1\n	KEY=$2\n	\n	# TODO : ajouter la vérification des paramètres \n	echo -n \"Ajout de la clé primaire ($KEY) à la table $TABLE ... \"\n	mysql -u${MYSQL_USER} -p${MYSQL_PWD} --local-infile --database=${MYSQL_DB} -e \"\n	ALTER TABLE $TABLE ADD PRIMARY KEY ($KEY);\"\n	echo \" terminé\"\n\n}\n\n# création de la table sqlprofiles\nTABLE=$1\"_sqlprofiles\"\nHEADER=\"instance_name,host_name,database_name,name,created,last_modified,description,type,status\"\nfnCreateTable $TABLE $HEADER\n\n\n# création de la table rac\nTABLE=$1\"_rac\"\nHEADER=\"host_name,instance_name,database_name,nodes_count,rac_instance,node_name,node_id,instance_status\"\nfnCreateTable $TABLE $HEADER\n\n# création de la table dba_feature\nTABLE=$1\"_dba_feature\"\nHEADER=\"AUDIT_ID,DBID,NAME,VERSION,DETECTED_USAGES,TOTAL_SAMPLES,CURRENTLY_USED,\"\nHEADER=$HEADER\"FIRST_USAGE_DATE,LAST_USAGE_DATE,AUX_COUNT,FEATURE_INFO,LAST_SAMPLE_DATE,\"\nHEADER=$HEADER\"LAST_SAMPLE_PERIOD,SAMPLE_INTERVAL,DESCRIPTION,HOST_NAME,INSTANCE_NAME,SYSDATE\"\nfnCreateTable $TABLE $HEADER\n\n# création de la table segments\nTABLE=$1\"_segments\"\nHEADER=\"AUDIT_ID,OWNER,SEGMENT_TYPE,SEGMENT_NAME,PARTITION_COUNT,PARTITION_MIN,PARTITION_MAX,HOST_NAME,INSTANCE_NAME,SYSDATE\"\nfnCreateTable $TABLE $HEADER\n\n# création de la table version\nTABLE=$1\"_version\"\nHEADER=\"AUDIT_ID,BANNER,HOST_NAME,INSTANCE_NAME,SYSDATE\"\nfnCreateTable $TABLE $HEADER\n\n\n# ajout de la clé sur la table version : host + instance\nKEY=HOST_NAME,INSTANCE_NAME\nfnAddPrimaryKey $TABLE $KEY\n\n# creation de la table dba_feature_usage (plus complète que dba_feature)\nTABLE=$1\"_dba_usage\"\nHEADER=\"HOST_NAME,INSTANCE_NAME,DBA_FEATURE_USAGE_STATISTICS,COUNT,NAME,VERSION,DETECTED_USAGES,TOTAL_SAMPLES,CURRENTLY_USED,FIRST_USAGE_DATE,LAST_USAGE_DATE,LAST_SAMPLE_DATE,SAMPLE_INTERVAL\"\nfnCreateTable $TABLE $HEADER\n\n# creation de la table pour les données OLAP\n\n# création de la table pour les données DB collectées par le script extract.sh\nTABLE=$1\"_db\"\nHEADER=\"HOST_NAME,INSTANCE_NAME,DB_VERSION_MAJ,PLATFORM_NAME,DB_EDITION,DB_CREATED_DATE,\"\nHEADER=$HEADER\"DIAG_PACK_USED,TUNING_PACK_USED,V_OPT_RAC,V_OPT_PART,OLAP_INSTALLED,OLAP_CUBES,ANALYTIC_WORKSPACES,\"\nHEADER=$HEADER\"V_OPT_DM,V_OPT_SPATIAL,V_OPT_ACDG,V_OPT_ADVSEC,V_OPT_LBLSEC,V_OPT_DBV,USERS_CREATED,SESSIONS_HW\"\nfnCreateTable $TABLE $HEADER\n\n# ajout de la clé primaire sur cette table HOST_NAME+INSTANCE_NAME\nKEY=HOST_NAME,INSTANCE_NAME\nfnAddPrimaryKey $TABLE $KEY\n\n#mysql -u${MYSQL_USER} -${MYSQL_PWD} --local-infile --database=${MYSQL_DB} -e \"\n#ALTER TABLE ${1}_db ADD PRIMARY KEY (Host_Name, Instance_Name);\"\n#echo \"Création de la clé primaire ... OK\"\n\n# creation de la table pour les données serveurs\nTABLE=$1\"_cpu\"\nHEADER=\"PHYSICAL_SERVER,Host_Name,OS,Marque,Model,Virtuel,Processor_Type,Socket,Cores_per_Socket,Total_Cores,\"\nHEADER=$HEADER\"Node_Name,Partition_Name,Partition_Number,Partition_Type,Partition_Mode,Entitled_Capacity,Active_CPUs_in_Pool,Online_Virtual_CPUs,Machine_Serial_Number,Active_Physical_CPUs\"\nfnCreateTable $TABLE $HEADER\n\n# ajout de la clé primaire sur cette table HOST_NAME\nKEY=Host_Name\nfnAddPrimaryKey $TABLE $KEY\n\n# creation de la table pour les serveurs physiques\nTABLE=$1\"_pservers\"\nHEADER=\"Physical_Server,Socket,Cores_per_Socket\"\nfnCreateTable $TABLE $HEADER\n# ajout de la clé primaire\nKEY=Physical_Server\nfnAddPrimaryKey $TABLE $KEY\n\n\n# creation de la table pour les données OLAP\nTABLE=$1\"_olap\"\nHEADER=\"GREPME,Host_Name,Instance_Name,Sysdate,Host_name_2,Instance_Name_2,Olap_Header,ANALYTIC_WORKSPACES_HEADER,Count_Nbr,Count_Txt,OWNER,AW_NUMBER,AW_NAME,PAGESPACES,GENERATIONS\"\nfnCreateTable $TABLE $HEADER\n# ajout de la clé primaire\nKEY=host_name,instance_name,OWNER,AW_NAME\nfnAddPrimaryKey $TABLE $KEY\n\n# creation de la table pour les données Spatial\nTABLE=$1\"_spatial\"\nHEADER=\"GREPME,Host_Name,Instance_Name,Sysdate,Host_name_2,Instance_Name_2,Spatial,Metadata,Count_Nbr,Count_Txt,OWNER,name,geometry\"\nfnCreateTable $TABLE $HEADER\n# ajout de la clé primaire sur cette table \nKEY=HOST_NAME,INSTANCE_NAME,OWNER,NAME\nfnAddPrimaryKey $TABLE $KEY\n\n# creation de la table v_options\nTABLE=$1\"_v_option\"\nHEADER=\"AUDIT_ID,PARAMETER,VALUE,HOST_NAME,INSTANCE_NAME,SYSDATE\"\nfnCreateTable $TABLE $HEADER\n# ajout de la clé primaire sur cette table \nKEY=HOST_NAME,INSTANCE_NAME,PARAMETER\nfnAddPrimaryKey $TABLE $KEY\n\n\n# creation de la table pour les données registry\nTABLE=$1\"_registry\"\nHEADER=\"GREPME,Host_Name,Instance_Name,Sysdate,Host_name_2,Instance_Name_2,DBA_REGISTRY,Metadata,Count_Nbr,Count_Txt,COMP_NAME,VERSION,STATUS,MODIFIED,SCHEMA\"\nfnCreateTable $TABLE $HEADER\n# ajout de la clé primaire sur cette table \nKEY=HOST_NAME,INSTANCE_NAME,COMP_NAME,VERSION\nfnAddPrimaryKey $TABLE $KEY\n\n# creation de la table pour les données DATA MINING\nTABLE=$1\"_data_mining\"\nHEADER=\"GREPME,Host_Name,Instance_Name,Sysdate,Host_name_2,Instance_Name_2,Data_Mining,Metadata,Count_Nbr,Count_Txt,Owner,Model_Name,\"\nHEADER=$HEADER\"MINING_FUNCTION,ALGORITHM,CREATION_DATE,BUILD_DURATION,MODEL_SIZE\"\nfnCreateTable $TABLE $HEADER\n# ajout de la clé primaire sur cette table \nKEY=HOST_NAME,INSTANCE_NAME,Owner,Model_Name\nfnAddPrimaryKey $TABLE $KEY\n",
			"file": "initdb.sh",
			"file_size": 6093,
			"file_write_time": 1411594556000000,
			"settings":
			{
				"buffer_size": 6049,
				"line_ending": "Unix"
			}
		}
	],
	"build_system": "",
	"command_palette":
	{
		"height": 0.0,
		"selected_items":
		[
		],
		"width": 0.0
	},
	"console":
	{
		"height": 0.0
	},
	"distraction_free":
	{
		"menu_visible": true,
		"show_minimap": false,
		"show_open_files": false,
		"show_tabs": false,
		"side_bar_visible": false,
		"status_bar_visible": false
	},
	"file_history":
	[
		"/home/merlin/lms_scripts/loaddata.sh",
		"/home/merlin/lms_scripts/calcul_proc.sh",
		"/home/merlin/lms_scripts/db_options.sh",
		"/home/merlin/lms_scripts/fonctions.sh",
		"/home/merlin/lms_scripts/extract.sh",
		"/home/merlin/lms_scripts/reports_rac.sh",
		"/home/merlin/lms_scripts/lms_cpu.sh",
		"/home/merlin/lms_scripts/lms_db.sh",
		"/home/merlin/lms_scripts/reports2xml.sh",
		"/home/merlin/lms_scripts/reports_tuning.sh",
		"/home/merlin/lms_scripts/reports_diagnostics.sh",
		"/home/merlin/lms_scripts/reports_olap.sh",
		"/home/merlin/lms_scripts/initdb.sh",
		"/home/merlin/lms_scripts/fonctions_xml.sh",
		"/home/merlin/lms_scripts/reports_spatial.sh",
		"/home/merlin/lms_scripts/reports_partitioning.sh",
		"/home/merlin/lms_scripts/intel_query.sh",
		"/home/merlin/lms_scripts/db_ee.php",
		"/home/merlin/lms_scripts/db_se.php",
		"/home/merlin/lms_scripts/servers.php",
		"/home/merlin/lms_scripts/databases.php",
		"/home/merlin/lms_scripts/connection.php",
		"/home/merlin/lms_scripts/reports.sh",
		"/home/merlin/lms_scripts/mktable.sh",
		"/home/merlin/lms_scripts/partitions.sh",
		"/home/merlin/Documents/lms_scripts/lms_db_1.5.sh",
		"/home/merlin/Documents/lms_scripts/extract.sh",
		"/home/merlin/Documents/lms_scripts/reports_1.5.sh",
		"/home/merlin/Documents/lms_scripts/lms_cpu_1.5.sh",
		"/home/merlin/Documents/lms_scripts/mktable_1.5.sh",
		"/home/merlin/Documents/lms_scripts/partitions.sh",
		"/home/merlin/Documents/lms_scripts/join_db_srv.sh",
		"/home/merlin/Documents/lms_scripts/lms_db_1.4.sh",
		"/home/merlin/Documents/lms_scripts/lms_cpu_1.4.sh",
		"/home/merlin/Documents/lms_scripts/lms_db_1.2.sh",
		"/home/merlin/Documents/lms_scripts/lms_cpu_1.1.sh"
	],
	"find":
	{
		"height": 35.0
	},
	"find_in_files":
	{
		"height": 0.0,
		"where_history":
		[
		]
	},
	"find_state":
	{
		"case_sensitive": false,
		"find_history":
		[
			"uroot",
			"$DB",
			"proot",
			"MYSQL_PWD",
			"uroot",
			"$DB",
			"proot",
			"root",
			"uroot",
			"mining",
			"all_cpu_tmp",
			"all_dba_feature",
			"TUNING PACK",
			"TUNING_PACK_FEATURES",
			"d.first_usage_date,",
			"vSpatial",
			"all_version",
			"from",
			"all_cpu_tmp",
			"all_spatial",
			"all_version",
			"$1",
			"[$DEBUG == 1]",
			"os",
			"OS",
			"os",
			"OS",
			"os",
			"OS",
			"\n",
			"db.Data_Mining",
			"RAC",
			"test",
			"Node_Name",
			"DB",
			"test",
			"/tmp/segement.csv",
			"TMP_FILE",
			"/tmp/dba_feature.csv",
			"cpu.Partition_Mode",
			"init_variables",
			"print_new_line",
			"OLAP_INSTALLED",
			"V_OPT_OLAP_INSTALLED",
			"V_OPT_OLAP",
			"NodeName",
			"get_sockets_number",
			"get_socket",
			"get_type_proc",
			"TYPE_PROC",
			"OnlineVirtualCPUs",
			"ActiveCPUsinPool",
			"EntitledCapacity",
			"OUTPUT_FILE",
			"PartitionMode",
			"PartitionType",
			"}\n",
			"Partition_Name",
			"Name",
			"PartitionName"
		],
		"highlight": true,
		"in_selection": false,
		"preserve_case": false,
		"regex": false,
		"replace_history":
		[
			"[ \"$DEBUG\" == \"1\" ]",
			"cpu.Partition_Type,cpu.Partition_Mode"
		],
		"reverse": false,
		"show_context": true,
		"use_buffer2": true,
		"whole_word": false,
		"wrap": true
	},
	"groups":
	[
		{
			"selected": 4,
			"sheets":
			[
				{
					"buffer": 0,
					"file": "reports_data_mining.sh",
					"settings":
					{
						"buffer_size": 4395,
						"regions":
						{
						},
						"selection":
						[
							[
								109,
								109
							]
						],
						"settings":
						{
							"syntax": "Packages/ShellScript/Shell-Unix-Generic.tmLanguage"
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"type": "text"
				},
				{
					"buffer": 1,
					"file": "fonctions.sh",
					"settings":
					{
						"buffer_size": 4360,
						"regions":
						{
						},
						"selection":
						[
							[
								329,
								329
							]
						],
						"settings":
						{
							"syntax": "Packages/ShellScript/Shell-Unix-Generic.tmLanguage"
						},
						"translation.x": 0.0,
						"translation.y": 90.0,
						"zoom_level": 1.0
					},
					"type": "text"
				},
				{
					"buffer": 2,
					"file": "reports_adv_compression.sh",
					"settings":
					{
						"buffer_size": 5425,
						"regions":
						{
						},
						"selection":
						[
							[
								2277,
								2277
							]
						],
						"settings":
						{
							"syntax": "Packages/ShellScript/Shell-Unix-Generic.tmLanguage"
						},
						"translation.x": 0.0,
						"translation.y": 334.0,
						"zoom_level": 1.0
					},
					"type": "text"
				},
				{
					"buffer": 3,
					"file": "reports2xml.sh",
					"settings":
					{
						"buffer_size": 15901,
						"regions":
						{
						},
						"selection":
						[
							[
								6223,
								6223
							]
						],
						"settings":
						{
							"syntax": "Packages/ShellScript/Shell-Unix-Generic.tmLanguage",
							"tab_size": 4,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 1530.0,
						"zoom_level": 1.0
					},
					"type": "text"
				},
				{
					"buffer": 4,
					"file": "initdb.sh",
					"settings":
					{
						"buffer_size": 6049,
						"regions":
						{
						},
						"selection":
						[
							[
								815,
								815
							]
						],
						"settings":
						{
							"syntax": "Packages/ShellScript/Shell-Unix-Generic.tmLanguage",
							"translate_tabs_to_spaces": false
						},
						"translation.x": 0.0,
						"translation.y": 69.0,
						"zoom_level": 1.0
					},
					"type": "text"
				}
			]
		}
	],
	"incremental_find":
	{
		"height": 0.0
	},
	"input":
	{
		"height": 33.0
	},
	"layout":
	{
		"cells":
		[
			[
				0,
				0,
				1,
				1
			]
		],
		"cols":
		[
			0.0,
			1.0
		],
		"rows":
		[
			0.0,
			1.0
		]
	},
	"menu_visible": true,
	"replace":
	{
		"height": 64.0
	},
	"save_all_on_build": true,
	"select_file":
	{
		"height": 0.0,
		"selected_items":
		[
			[
				"joi",
				"join_db_srv.sh"
			],
			[
				"lms_db",
				"lms_db_1.4.sh"
			]
		],
		"width": 0.0
	},
	"select_project":
	{
		"height": 0.0,
		"selected_items":
		[
		],
		"width": 0.0
	},
	"show_minimap": true,
	"show_open_files": false,
	"show_tabs": true,
	"side_bar_visible": true,
	"side_bar_width": 268.0,
	"status_bar_visible": true
}
